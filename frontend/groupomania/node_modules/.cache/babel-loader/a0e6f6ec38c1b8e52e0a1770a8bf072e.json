{"remainingRequest":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\src\\views\\Login.vue","mtime":1635146857746},{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvRnJhblx4RTdvaXMgTW9yaWFtXHhFOS9Eb2N1bWVudHMvT3BlbkNsYXNzUm9vbXMvUDcvZnJvbnRlbmQvZ3JvdXBvbWFuaWEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydzdGF0dXMnXSkpLAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9naW4nLCB7CiAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgc2VsZi4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ1Byb2ZpbGUnLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGlkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\src\\views\\Login.vue"],"names":[],"mappings":";AAmBA,SAAQ,QAAR,QAAuB,MAAvB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,QAAO,oBACF,QAAQ,CAAC,CAAC,QAAD,CAAD,CADN,CAFM;AAKb,EAAA,OAAO,EAAE;AACP,IAAA,KAAK,EAAE,iBAAY;AACjB,UAAM,IAAG,GAAI,IAAb;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,OAArB,EAA8B;AAC5B,QAAA,KAAK,EAAE,KAAK,KADgB;AAE5B,QAAA,QAAQ,EAAE,KAAK;AAFa,OAA9B,EAIC,IAJD,CAIM,YAAY;AAChB,QAAA,IAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAC,UAAA,IAAI,EAAE,SAAP;AAAkB,UAAA,MAAM,EAAE;AAAC,YAAA,EAAC,EAAI,cAAc,CAAC,OAAf,CAAuB,QAAvB;AAAN;AAA1B,SAAlB;AACD,OAND,EAMG,UAAS,KAAT,EAAgB;AACjB,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,OARD;AASF;AAZO;AALI,CAAf","sourcesContent":["<template>\r\n<div id=\"login\">\r\n  <h1>Login</h1>\r\n  <form action=\"/api/auth/login\" method=\"POST\">\r\n    <label for=\"email\">Email</label>\r\n    <input v-model=\"email\" type=\"text\" name=\"email\">\r\n\r\n    <label for=\"password\">Mot de passe</label>\r\n    <input v-model=\"password\" type=\"password\" name=\"password\">\r\n  </form>\r\n  <div v-if=\"mode === 'login' && status === 'error_login'\" >\r\n    Adresse mail et/ou mot de passe invalide\r\n  </div>\r\n  <button @click='login()'> <span v-if=\"status === 'loading'\">Connexion en cours ...</span> <span v-else>Connexion</span> </button>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {mapState} from 'vuex'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  computed : {\r\n    ...mapState(['status'])\r\n  },\r\n  methods: {\r\n    login: function () {\r\n      const self = this;\r\n      this.$store.dispatch('login', {\r\n        email: this.email,\r\n        password: this.password\r\n      })\r\n      .then(function () {\r\n        self.$router.push({name: 'Profile', params: {id : sessionStorage.getItem('userId')}})\r\n      }, function(error) {\r\n        console.log(error)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n"],"sourceRoot":""}]}