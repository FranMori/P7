{"remainingRequest":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\src\\views\\Signup.vue?vue&type=template&id=024d905c","dependencies":[{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\src\\views\\Signup.vue","mtime":1636540789733},{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1632349277000},{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgaWQ6ICJzaWdudXAiCn07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMSIsIG51bGwsICJTaWdudXAiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIHsKICBmb3I6ICJlbWFpbCIKfSwgIkVtYWlsIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCB7CiAgZm9yOiAicHJlbm9tIgp9LCAiUHLDqW5vbSIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgewogIGZvcjogIm5vbSIKfSwgIk5vbSIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF82ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgewogIGZvcjogInBhc3N3b3JkIgp9LCAiUGFzc3dvcmQiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJidXR0b24iLCBudWxsLCAiUydpbnNjcmlyZSIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfRmllbGQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRmllbGQiKTsKCiAgdmFyIF9jb21wb25lbnRfRXJyb3JNZXNzYWdlID0gX3Jlc29sdmVDb21wb25lbnQoIkVycm9yTWVzc2FnZSIpOwoKICB2YXIgX2NvbXBvbmVudF9Gb3JtID0gX3Jlc29sdmVDb21wb25lbnQoIkZvcm0iKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19ob2lzdGVkXzIsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0Zvcm0sIHsKICAgIG9uU3VibWl0OiAkb3B0aW9ucy5oYW5kbGVSZWdpc3RlciwKICAgICJ2YWxpZGF0aW9uLXNjaGVtYSI6ICRkYXRhLnNjaGVtYQogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBudWxsLCBbX2hvaXN0ZWRfMywgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRmllbGQsIHsKICAgICAgICBuYW1lOiAiZW1haWwiLAogICAgICAgIHR5cGU6ICJ0ZXh0IgogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRXJyb3JNZXNzYWdlLCB7CiAgICAgICAgbmFtZTogImVtYWlsIiwKICAgICAgICBjbGFzczogImVycm9yLWZlZWRiYWNrIgogICAgICB9KV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBudWxsLCBbX2hvaXN0ZWRfNCwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRmllbGQsIHsKICAgICAgICBuYW1lOiAicHJlbm9tIiwKICAgICAgICB0eXBlOiAidGV4dCIKICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0Vycm9yTWVzc2FnZSwgewogICAgICAgIG5hbWU6ICJwcmVub20iLAogICAgICAgIGNsYXNzOiAiZXJyb3ItZmVlZGJhY2siCiAgICAgIH0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsIFtfaG9pc3RlZF81LCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9GaWVsZCwgewogICAgICAgIG5hbWU6ICJub20iLAogICAgICAgIHR5cGU6ICJ0ZXh0IgogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRXJyb3JNZXNzYWdlLCB7CiAgICAgICAgbmFtZTogIm5vbSIsCiAgICAgICAgY2xhc3M6ICJlcnJvci1mZWVkYmFjayIKICAgICAgfSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgW19ob2lzdGVkXzYsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0ZpZWxkLCB7CiAgICAgICAgbmFtZTogInBhc3N3b3JkIiwKICAgICAgICB0eXBlOiAicGFzc3dvcmQiCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9FcnJvck1lc3NhZ2UsIHsKICAgICAgICBuYW1lOiAicGFzc3dvcmQiLAogICAgICAgIGNsYXNzOiAiZXJyb3ItZmVlZGJhY2siCiAgICAgIH0pXSksIF9ob2lzdGVkXzddOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSwgOAogIC8qIFBST1BTICovCiAgLCBbIm9uU3VibWl0IiwgInZhbGlkYXRpb24tc2NoZW1hIl0pXSk7Cn0="},{"version":3,"sources":["C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\src\\views\\Signup.vue"],"names":[],"mappings":";;AACK,EAAA,EAAE,EAAC;;;8BACN,mBAAA,CAAe,IAAf,EAAe,IAAf,EAAI,QAAJ,EAAU,CAAA;AAAA;AAAV,C;;8BAGI,mBAAA,CAAgC,OAAhC,EAAgC;AAAzB,EAAA,GAAG,EAAC;AAAqB,CAAhC,EAAmB,OAAnB,EAAwB,CAAA;AAAA;AAAxB,C;;8BAKA,mBAAA,CAAkC,OAAlC,EAAkC;AAA3B,EAAA,GAAG,EAAC;AAAuB,CAAlC,EAAoB,QAApB,EAA0B,CAAA;AAAA;AAA1B,C;;8BAKA,mBAAA,CAA4B,OAA5B,EAA4B;AAArB,EAAA,GAAG,EAAC;AAAiB,CAA5B,EAAiB,KAAjB,EAAoB,CAAA;AAAA;AAApB,C;;8BAKA,mBAAA,CAAsC,OAAtC,EAAsC;AAA/B,EAAA,GAAG,EAAC;AAA2B,CAAtC,EAAsB,UAAtB,EAA8B,CAAA;AAAA;AAA9B,C;;8BAMF,mBAAA,CAA2B,QAA3B,EAA2B,IAA3B,EAAQ,YAAR,EAAkB,CAAA;AAAA;AAAlB,C;;;;;;;;;uBAzBJ,mBAAA,CA2BQ,KA3BR,EAAA,UAAA,EA2BQ,CA1BN,UA0BM,EAzBN,YAAA,CAwBK,eAxBL,EAwBK;AAxBE,IAAA,QAAM,EAAE,QAAA,CAAA,cAwBV;AAxB2B,yBAAmB,KAAA,CAAA;AAwB9C,GAxBL,E;sBACE;AAAA,aAIE,CAJF,mBAAA,CAIE,KAJF,EAIE,IAJF,EAIE,CAHA,UAGA,EAFA,YAAA,CAAiC,gBAAjC,EAAiC;AAA1B,QAAA,IAAI,EAAC,OAAqB;AAAb,QAAA,IAAI,EAAC;AAAQ,OAAjC,CAEA,EADA,YAAA,CAAmD,uBAAnD,EAAmD;AAArC,QAAA,IAAI,EAAC,OAAgC;AAAxB,QAAA,KAAK,EAAC;AAAkB,OAAnD,CACA,CAJF,CAIE,EACN,mBAAA,CAIM,KAJN,EAIM,IAJN,EAIM,CAHA,UAGA,EAFA,YAAA,CAAkC,gBAAlC,EAAkC;AAA3B,QAAA,IAAI,EAAC,QAAsB;AAAb,QAAA,IAAI,EAAC;AAAQ,OAAlC,CAEA,EADA,YAAA,CAAoD,uBAApD,EAAoD;AAAtC,QAAA,IAAI,EAAC,QAAiC;AAAxB,QAAA,KAAK,EAAC;AAAkB,OAApD,CACA,CAJN,CADM,EAMN,mBAAA,CAIM,KAJN,EAIM,IAJN,EAIM,CAHA,UAGA,EAFA,YAAA,CAA+B,gBAA/B,EAA+B;AAAxB,QAAA,IAAI,EAAC,KAAmB;AAAb,QAAA,IAAI,EAAC;AAAQ,OAA/B,CAEA,EADA,YAAA,CAAiD,uBAAjD,EAAiD;AAAnC,QAAA,IAAI,EAAC,KAA8B;AAAxB,QAAA,KAAK,EAAC;AAAkB,OAAjD,CACA,CAJN,CANM,EAWN,mBAAA,CAIM,KAJN,EAIM,IAJN,EAIM,CAHA,UAGA,EAFA,YAAA,CAAwC,gBAAxC,EAAwC;AAAjC,QAAA,IAAI,EAAC,UAA4B;AAAjB,QAAA,IAAI,EAAC;AAAY,OAAxC,CAEA,EADA,YAAA,CAAsD,uBAAtD,EAAsD;AAAxC,QAAA,IAAI,EAAC,UAAmC;AAAxB,QAAA,KAAK,EAAC;AAAkB,OAAtD,CACA,CAJN,CAXM,EAkBF,UAlBE,CAJF;AAAA,K;;;;GADF,E;;AAAA,I,iCAAA,CAyBM,CA3BR,C","sourcesContent":["<template> \r\n<div id='signup'>\r\n  <h1>Signup</h1>\r\n  <Form @submit=\"handleRegister\" :validation-schema=\"schema\">\r\n    <div>\r\n      <label for=\"email\">Email</label>\r\n      <Field name=\"email\" type=\"text\"/>\r\n      <ErrorMessage name=\"email\" class=\"error-feedback\"/>\r\n</div>\r\n<div>\r\n      <label for=\"prenom\">Prénom</label>\r\n      <Field name=\"prenom\" type=\"text\"/>\r\n      <ErrorMessage name=\"prenom\" class=\"error-feedback\"/>\r\n</div>\r\n<div>\r\n      <label for=\"nom\">Nom</label>\r\n      <Field name=\"nom\" type=\"text\"/>\r\n      <ErrorMessage name=\"nom\" class=\"error-feedback\"/>\r\n</div>\r\n<div>\r\n      <label for=\"password\">Password</label>\r\n      <Field name=\"password\" type=\"password\"/>\r\n      <ErrorMessage name=\"password\" class=\"error-feedback\"/>\r\n</div>\r\n  \r\n  \r\n    <button>S'inscrire</button>\r\n</Form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\r\nimport * as yup from \"yup\";\r\n\r\nexport default {\r\n  name: 'Signup',\r\n    components: {\r\n    Form,\r\n    Field,\r\n    ErrorMessage,\r\n  },\r\n  data() {\r\n     const schema = yup.object().shape({\r\n      email: yup\r\n        .string()\r\n        .required(\"Veuillez entrer votre Email\")\r\n        .email(\"l'Email n'est pas valide\")\r\n        .max(50, \"50 caractères maximum\"),\r\n      password: yup\r\n        .string()\r\n        .required(\"Veuillez entrer votre mot de passe\")\r\n        .min(6, \"Au minimum 6 caractères\")\r\n        .max(40, \"40 caractères maximum\"),\r\n    });\r\n\r\n    return {\r\n      successful: false,\r\n      loading: false,\r\n      message: \"\",\r\n      schema,\r\n    };\r\n  },\r\n  computed: {\r\n    loggedIn() {\r\n      return this.$store.state.auth.status.loggedIn;\r\n    },\r\n  },\r\n  mounted() {\r\n    if (this.loggedIn) {\r\n      this.$router.push(\"/profile\");\r\n    }\r\n  },\r\n   methods: {\r\n    handleRegister(user) {\r\n      this.message = \"\";\r\n      this.successful = false;\r\n      this.loading = true;\r\n\r\n      this.$store.dispatch(\"auth/register\", user).then(\r\n        (data) => {\r\n          this.message = data.message;\r\n          this.successful = true;\r\n          this.loading = false;\r\n          this.$router.push(\"/connexion\")\r\n        },\r\n        (error) => {\r\n          this.message =\r\n            (error.response &&\r\n              error.response.data &&\r\n              error.response.data.message) ||\r\n            error.message ||\r\n            error.toString();\r\n          this.successful = false;\r\n          this.loading = false;\r\n        }\r\n      )\r\n    },\r\n   },\r\n}\r\n</script>\r\n"],"sourceRoot":""}]}