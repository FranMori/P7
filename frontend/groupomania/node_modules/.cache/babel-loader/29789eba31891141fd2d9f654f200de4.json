{"remainingRequest":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\src\\views\\Login.vue","mtime":1635325622790},{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwovLyBpbXBvcnQge21hcFN0YXRlfSBmcm9tICd2dWV4JwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBjb21wdXRlZDogewogICAgLy8gLi4ubWFwU3RhdGUoWydzdGF0dXMnXSkKICAgIGxvZ2dlZEluOiBmdW5jdGlvbiBsb2dnZWRJbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLmxvZ2dlZEluKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcHJvZmlsZSIpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlTG9naW46IGZ1bmN0aW9uIGhhbmRsZUxvZ2luKHVzZXIpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL2xvZ2luIiwgdXNlcikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvcHJvZmlsZSIpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMubWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8IGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IudG9TdHJpbmcoKTsKICAgICAgfSk7CiAgICB9CiAgfSAvLyBtZXRob2RzOiB7CiAgLy8gICBsb2dpbjogZnVuY3Rpb24gKCkgewogIC8vICAgICBjb25zdCBzZWxmID0gdGhpczsKICAvLyAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvZ2luJywgewogIC8vICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogIC8vICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgLy8gICAgIH0pCiAgLy8gICAgIC50aGVuKGZ1bmN0aW9uICgpIHsKICAvLyAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCgiLyIpCiAgLy8gICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7CiAgLy8gICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgLy8gICAgIH0pCiAgLy8gICB9CiAgLy8gfQoKfTs="},{"version":3,"sources":["C:\\Users\\François Moriamé\\Documents\\OpenClassRooms\\P7\\frontend\\groupomania\\src\\views\\Login.vue"],"names":[],"mappings":";;AAmBA;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,QAAO,EAAI;AACT;AACA,IAAA,QAFS,sBAEE;AACT,aAAO,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,MAAvB,CAA8B,QAArC;AACD;AAJQ,GAFE;AASb,EAAA,OATa,qBASH;AACN,QAAI,KAAK,QAAT,EAAmB;AACjB,WAAK,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACF;AACD,GAbU;AAcZ,EAAA,OAAO,EAAE;AACR,IAAA,WADQ,uBACI,IADJ,EACU;AAAA;;AAChB,WAAK,OAAL,GAAe,IAAf;AAEA,WAAK,MAAL,CAAY,QAAZ,CAAqB,YAArB,EAAmC,IAAnC,EAAyC,IAAzC,CACE,YAAM;AACJ,QAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,UAAlB;AACD,OAHH,EAIE,UAAC,KAAD,EAAW;AACT,QAAA,KAAI,CAAC,OAAL,GAAe,KAAf;AACA,QAAA,KAAI,CAAC,OAAL,GACG,KAAK,CAAC,QAAN,IACC,KAAK,CAAC,QAAN,CAAe,IADhB,IAEC,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,OAFtB,IAGA,KAAK,CAAC,OAHN,IAIA,KAAK,CAAC,QAAN,EALF;AAMF,OAZF;AAcD;AAlBO,GAdG,CAkCb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA/Ca,CAAf","sourcesContent":["<template>\r\n<div id=\"login\">\r\n  <h1>Login</h1>\r\n  <form action=\"/api/auth/login\" method=\"POST\">\r\n    <label for=\"email\">Email</label>\r\n    <Field  type=\"text\" name=\"email\"/>\r\n\r\n    <label for=\"password\">Mot de passe</label>\r\n    <Field  type=\"password\" name=\"password\"/>\r\n  </form>\r\n  <div v-if=\"mode === 'login' && status === 'error_login'\" >\r\n    Adresse mail et/ou mot de passe invalide\r\n  </div>\r\n  <button @click='handleLogin()'> <span v-if=\"status === 'loading'\">Connexion en cours ...</span> <span v-else>Connexion</span> </button>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\r\n// import {mapState} from 'vuex'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  computed : {\r\n    // ...mapState(['status'])\r\n    loggedIn() {\r\n      return this.$store.state.auth.status.loggedIn\r\n    },\r\n    \r\n  },\r\n  created() {\r\n      if (this.loggedIn) {\r\n        this.$router.push(\"/profile\")\r\n      }\r\n    },\r\n   methods: {\r\n    handleLogin(user) {\r\n      this.loading = true;\r\n\r\n      this.$store.dispatch(\"auth/login\", user).then(\r\n        () => {\r\n          this.$router.push(\"/profile\");\r\n        },\r\n        (error) => {\r\n          this.loading = false;\r\n          this.message =\r\n            (error.response &&\r\n              error.response.data &&\r\n              error.response.data.message) ||\r\n            error.message ||\r\n            error.toString();\r\n        }\r\n      );\r\n    },\r\n  },\r\n  // methods: {\r\n  //   login: function () {\r\n  //     const self = this;\r\n  //     this.$store.dispatch('login', {\r\n  //       email: this.email,\r\n  //       password: this.password\r\n  //     })\r\n  //     .then(function () {\r\n  //       self.$router.push(\"/\")\r\n  //     }, function(error) {\r\n  //       console.log(error)\r\n  //     })\r\n  //   }\r\n  // }\r\n}\r\n</script>\r\n\r\n"],"sourceRoot":""}]}